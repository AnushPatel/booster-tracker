{% extends "base_generic.html" %}
{% load filters %}
{% load static %}
{% block title %}
    Booster Tracker
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/object_info.css' %}">
{% endblock %}

{% block content %}
    <div class="card" style="background-image: url('{{ stage.image.url }}');">
        <h1 class="title">{{ stage.rocket }} {{ stage.name }}</h1>
        <div class="stats">
            <div class="stat">
                <p><b>Version: {{ stage.version }}</b></p>
            </div>
            <div class="stat">
                <p><b>Status: {{ stage.status|lower|title }}</b></p>
            </div>
            <div class="stat">
                <p><b>Number of Flights: {{ stage.num_launches }}</b></p>
            </div>
            {% if quickest_turnaround %}
            <div class="stat">
                <p><b>Quickest Turnaround: {{ quickest_turnaround }} days</b></p>
            </div>
            {% endif %}
            {% if average_turnaround %}
            <div class="stat">
                <p><b>Average Turnaround: {{ average_turnaround }} days</b></p>
            </div>
            {% endif %}
            {% if stdev %}
            <div class="stat">
                <p><b>Turnaround St Deviation: {{ stdev }} days</b></p>
            </div>
            {% endif %}
        </div>
    </div>

    <h1>Launches:</h1>
    <table>
        <thead>
            <tr>
                <th>Launch</th>
                <th>Time (UTC)</th>
                <th>Turnaround Time</th>
                <th class="mobile-display">Landing Method</th>
                <th class="mobile-display">Landing Location</th>
            </tr>
        </thead>
        <tbody>
            {% for launch in launches %}
            <tr>
                <td><a class="link" href="{% url 'booster_tracker:launch' launch.0.name %}">{{ launch.0.name }}</a></td>
                <td>{{ launch.0.time|date:"F j, Y H:i" }}</td>
                <td>{{ launch.1 }}</td>
                <td class="mobile-display">{{ launch.2.method|lower|title|replace:"Ground_Pad|RTLS"|replace:"Drone_Ship|ASDS"|replace:"Ocean_Surface|Ocean Surface" }} ({{ launch.2.method_success|lower|title|replace:"None|TBD" }})</td>
                <td class="mobile-display">{{ launch.2.landing_zone.nickname|default:"N/A" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
